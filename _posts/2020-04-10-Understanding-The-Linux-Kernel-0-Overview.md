---
layout: post
title: 深入理解 Linux 内核（零）：总览及绪论
date: 2020-04-10 18:11:04
author: admin
comments: true
categories: [Linux]
tags: [Linux, Linux Kernel]
---

Linux 作为主流且好评如潮的操作系统 ，内核是什么样子的呢？来了解一下吧。

<!-- more -->

---

* 目录
{:toc}
---



## 全书脑图

[![](/images/posts/UnderstandingLinuxKernel-Overview.png)](/images/posts/UnderstandingLinuxKernel-Overview.png)



可以看出这本书大概分为十一个部分，涵盖了Linux内存管理、文件系统、进程管理、进程通信等。

来一步步学习吧。



## 绪论

Linux 是 Unix-like 操作系统大家庭中的一名成员。

### 1. 与其他 Unix 内核的比较

Linux 内核2.6版本遵循IEEE POSIX 标准。

与其他内核相比：

- 单块结构的内核
- 编译并运行的传统 Unix 内核
- 内核线程
- 多线程应用程序支持
- 抢占式内核
- 多处理器支持
- 文件系统
- STREAMS

优势：

- 免费
- 所有成分都可以定制
- 可以运行在便宜、低档的硬件平台
- 强大
- 开发者都很出色
- 内核非常小，而且紧凑
- 与许多通用操作系统高度兼容
- 很好的技术支持

### 2. 操作系统基本概念

操作系统是一系列程序的集合。在这个集合中，最重要的程序是内核。它在操作系统启动时，直接被装入RAM中。

操作系统必须完成两个主要目标：

- 与硬件部分互交，为包含在硬件平台上的所有底层可编程部件提供服务
- 为运行在计算机系统上的应用程序(用户程序)提供执行环境

当程序想要使用硬件资源的时候，会通知内核，由内核来评估是否可以使用，然后和硬件资源交互。为了实现上述机制，现代操作系统依靠特殊的硬件特性来禁止用户直接与地层硬件互交，或者禁止直接访问任意的物理地址。硬件为CPU引入了至少两种模式:用户程序的**非特权模式**(User Mode)和内核的**特权模式**(Kernel Mode)。

#### 多用户系统

并发：竞争各种资源。

独立：每个应用程序执行自己的任务。

特点：

- 认证机制，核实用户身份
- 一个保护机制，防止有错误的用户程序妨碍其他应用程序在系统中运行
- 一个保护机制，防止有恶意的用户程序干涉或窥视其他用户的活动
- 记账机制，限制分配给每个用户的资源数

#### 用户和组

在多用户系统中，每个用户拥有自己私用的空间。用户互相之间不能访问彼此的文件。

用用户标识符（User ID）来标示一个用户。用组标识符（Group ID）来表示一个组。

root 超级用户（superuser），几乎无所不能。

#### 进程

进程（process）执行程序的一个实例。

由于资源都是有限的，所以多用户系统下的进程会被调度器进行调度，另外这些进程都必须是抢占式的。

#### 内核体系结构

大部分Unix是单块结构：每一个内核层都被集成到整个内核程序中，并代表当前进程在内核态下运行。操作系统的学术研究都是面向微内核的，但是这个样的操作系统一般比单块内核的效率低，因为操作系统不同层次之间显式的消息调用和传递会花费一定的时间。微内核程序模块化、便于移植、RAM利用率高、不需要执行的程序被调出。

Linux为了达到微内核理论上的优点而不影响性能，Linux内核提供了模块(module)，一个简单的目标文件；其代码在运行时链接到内核或从内核解除链接。**模块不是作为一个特殊的进程执行的，它代表当前进程在内核状态下执行**

模块的主要优点如下：

- 模块化方法
- 平台无关性
- 节省内存使用
- 无性能损失








## 未完待续。。。





## 参考资料

[深入理解LINUX内核(第三版)](https://book.douban.com/subject/2287506/)
